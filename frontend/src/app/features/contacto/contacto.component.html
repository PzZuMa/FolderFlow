<div class="contact-container">
  
  <app-public-header></app-public-header>

  <div class="contact-content">
    <div class="contact-card">
      <div class="contact-info">
        <h2>Contacta con nosotros</h2>
        <p>Estamos aquí para ayudarte. Rellena el formulario y nos pondremos en contacto contigo lo antes posible.</p>
        
        <div class="contact-details">
          <div class="contact-item">
            <div class="icon-container">
              <i class="material-icons">email</i>
            </div>
            <div class="text">
                <h4>Email</h4>
                <span>info&#64;folderflow.com</span> <!-- Corregido: usando span en vez de p -->
            </div>
          </div>
          
          <div class="contact-item">
            <div class="icon-container">
              <i class="material-icons">phone</i>
            </div>
            <div class="text">
              <h4>Teléfono</h4>
              <p>+34 910 123 456</p>
            </div>
          </div>
          
          <div class="contact-item">
            <div class="icon-container">
              <i class="material-icons">location_on</i>
            </div>
            <div class="text">
              <h4>Dirección</h4>
              <p>Calle Tecnología, 123<br>28045 Madrid, España</p>
            </div>
          </div>
        </div>
      </div>
      
      <div class="contact-form-container">
        <h3>Envíanos un mensaje</h3>
        
        <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate>
          <div class="form-field">
            <label for="nameInput">Nombre</label>
            <input type="text"
                   id="nameInput"
                   class="form-input"
                   formControlName="name"
                   placeholder="Tu nombre completo"
                   required
                   aria-describedby="nameError"
                   [class.is-invalid]="submitted && name?.invalid">
            <div id="nameError" *ngIf="submitted && name?.invalid" class="field-error-message">
              <div *ngIf="name?.hasError('required')">El nombre es obligatorio.</div>
            </div>
          </div>
          
          <div class="form-field">
            <label for="emailInput">Email</label>
            <input type="email"
                   id="emailInput"
                   class="form-input"
                   formControlName="email"
                   placeholder="tu@email.com"
                   required
                   aria-describedby="emailError"
                   [class.is-invalid]="submitted && email?.invalid">
            <div id="emailError" *ngIf="submitted && email?.invalid" class="field-error-message">
              <div *ngIf="email?.hasError('required')">El email es obligatorio.</div>
              <div *ngIf="email?.hasError('email')">Introduce un formato de email válido.</div>
            </div>
          </div>
          
          <div class="form-field">
            <label for="subjectInput">Asunto</label>
            <input type="text"
                   id="subjectInput"
                   class="form-input"
                   formControlName="subject"
                   placeholder="Asunto de tu mensaje"
                   required
                   aria-describedby="subjectError"
                   [class.is-invalid]="submitted && subject?.invalid">
            <div id="subjectError" *ngIf="submitted && subject?.invalid" class="field-error-message">
              <div *ngIf="subject?.hasError('required')">El asunto es obligatorio.</div>
            </div>
          </div>
          
          <div class="form-field">
            <label for="messageInput">Mensaje</label>
            <textarea
                   id="messageInput"
                   class="form-input"
                   formControlName="message"
                   placeholder="Escribe tu mensaje aquí"
                   rows="5"
                   required
                   aria-describedby="messageError"
                   [class.is-invalid]="submitted && message?.invalid"></textarea>
            <div id="messageError" *ngIf="submitted && message?.invalid" class="field-error-message">
              <div *ngIf="message?.hasError('required')">El mensaje es obligatorio.</div>
              <div *ngIf="message?.hasError('minlength')">El mensaje debe tener al menos 10 caracteres.</div>
            </div>
          </div>
          
          <div *ngIf="successMessage" class="success-message-container">
            <div class="success-message">{{ successMessage }}</div>
          </div>
          
          <div *ngIf="errorMessage" class="error-message-container">
            <div class="error-message">{{ errorMessage }}</div>
          </div>
          
          <div class="button-container">
            <button class="btn-primary" type="submit" [disabled]="isLoading">
              <span *ngIf="isLoading" class="loading-spinner"></span>
              <span>{{ isLoading ? 'Enviando...' : 'Enviar Mensaje' }}</span>
            </button>
          </div>
        </form>
      </div>
      
    </div>
    
  </div>
    <app-footer></app-footer>
</div>